{% extends "base.html" %}

{% block title %}{{ title }}{% endblock title %}

{% block header %}{{ header }}{% endblock header %}

{% block navigation%}
<a href="{% url 'home' %}">Главная / </a>
<a href="{% url 'view_profile' user_id=user_info.pk %}">{{ user_info.username }} / </a>
<a href="{% url 'user_cards' user_id=user_info.pk %}">Карты пользователя / </a>
{% endblock navigation %}

{% block content %}
    {% for card in cards %}
    <div>
        <a href="{% url 'card' card_id=card.pk %}"><p>ID: {{ card.pk }}</p></a>
        {% if user.id == card.owner.id and card.sale_status == True %}
            <p style="color:#00FF00">Продается</p>
            <p style="color:#ff0000"> Цена: {{ card.price }}</p>
        {% endif %}
        {% if user.profile.current_card == card %}
            <p style="color:#ff5c77">Избранная карта</p>
        {% endif %}
        <p><img width="200" height="200" alt="card_image" src="{{ card.class_card.image.url }}"><p>
        <p>Редкость: {{ card.rarity }}</p>
        <p>Класс: {{ card.class_card }}</p>
        <p>Тип: {{ card.type }}</p>
        <p>Здоровье: {{ card.hp }}</p>
        <p>Урон: {{ card.damage }}</p>
        <p>Уровень: {{ card.level }}</p>
        {% if user.id == card.owner.id %}
            {% if card.sale_status %}
                <a href="{% url 'remove_from_sale_card' card_id=card.pk %}"><p>Убрать с продажи</p></a>
            {% else %}
                <a href="{% url 'card_sale' card_id=card.pk %}"><p>Выставить на продажу</p></a>
            {% endif %}
            <a href="{% url 'select_favorite_card' selected_card=card.id %}"><p>Сделать избранной</p></a>
        {% endif %}
        -------------------------------------------------
    </div>
    {% endfor %}

<div>
    {% if page.has_previous %}
    <a href="?page={{ page.previous_page_number }}">&lt;</a>
    &nbsp;&nbsp;|&nbsp;
    {% endif %}
    {% if page.paginator.num_pages > 1 %}
        <p>Часть №{{ page.number }} из {{ page.paginator.num_pages }}</p>
    {% endif %}
    {% if page.has_next %}
    &nbsp;&nbsp;|&nbsp;&nbsp;
    <a href="?page={{ page.next_page_number }}">&gt;</a>
    {% endif %}
</div>
{% endblock content %}
